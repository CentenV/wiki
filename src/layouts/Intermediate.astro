---
import type { BackgroundImage } from "src/types";
import "@style/global.css";

interface Props {
    title: string;
    backgroundImage: BackgroundImage;
}
const { title, backgroundImage } = Astro.props;
---

<div class="flex flex-col h-full w-full">
    {/* Background Image/Video */}
    <div class=`intermediate-page-bg rounded-wiki h-1/3 overflow-hidden`>
        {
            backgroundImage.video ? (
                <video
                    autoplay={true}
                    muted
                    loop
                    src={backgroundImage.url}
                    class={`w-full rounded-wiki ${backgroundImage.offset}`}
                />
            ) : (
                <img
                    alt="Background Banner"
                    src={backgroundImage.url}
                    class={`w-full rounded-wiki ${backgroundImage.offset}`}
                    draggable={false}
                />
            )
        }
    </div>
    <div class="p-8">
        {/* Misc */}
        <header>{title}</header>
        {/* Links */}
        <div class="flex flex-col gap-3">
            <slot />
        </div>
    </div>
</div>

<style>
    img {
        object-fit: cover;
    }
</style>